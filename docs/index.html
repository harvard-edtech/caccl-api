<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav style="border-right: 2px solid #ccc; padding-bottom: 25px;" >
    
    <h2><a style="font-size: 30px;" href="index.html">CACCL API</a></h2><h3>Endpoint Functions</h3><ul><li><a href="api.account.html">api.account</a><ul class='methods'><li data-type='method'><a href="api.account.html#get">get</a></li><li data-type='method'><a href="api.account.html#list">list</a></li><li data-type='method'><a href="api.account.html#listAdmins">listAdmins</a></li><li data-type='method'><a href="api.account.html#listCourses">listCourses</a></li></ul></li><li><a href="api.account.enrollmentTerm.html">api.account.enrollmentTerm</a><ul class='methods'><li data-type='method'><a href="api.account.enrollmentTerm.html#get">get</a></li><li data-type='method'><a href="api.account.enrollmentTerm.html#list">list</a></li></ul></li><li><a href="api.conversation.html">api.conversation</a><ul class='methods'><li data-type='method'><a href="api.conversation.html#create">create</a></li></ul></li><li><a href="api.course.html">api.course</a><ul class='methods'><li data-type='method'><a href="api.course.html#get">get</a></li><li data-type='method'><a href="api.course.html#getUser">getUser</a></li><li data-type='method'><a href="api.course.html#listDesignerEnrollments">listDesignerEnrollments</a></li><li data-type='method'><a href="api.course.html#listDesigners">listDesigners</a></li><li data-type='method'><a href="api.course.html#listEnrollments">listEnrollments</a></li><li data-type='method'><a href="api.course.html#listObserverEnrollments">listObserverEnrollments</a></li><li data-type='method'><a href="api.course.html#listObservers">listObservers</a></li><li data-type='method'><a href="api.course.html#listStudentEnrollments">listStudentEnrollments</a></li><li data-type='method'><a href="api.course.html#listStudents">listStudents</a></li><li data-type='method'><a href="api.course.html#listTAs">listTAs</a></li><li data-type='method'><a href="api.course.html#listTeachers">listTeachers</a></li><li data-type='method'><a href="api.course.html#listTeachingTeamMemberEnrollments">listTeachingTeamMemberEnrollments</a></li><li data-type='method'><a href="api.course.html#listTeachingTeamMembers">listTeachingTeamMembers</a></li><li data-type='method'><a href="api.course.html#listUsers">listUsers</a></li></ul></li><li><a href="api.course.analytics.html">api.course.analytics</a><ul class='methods'><li data-type='method'><a href="api.course.analytics.html#getStudentMessagingData">getStudentMessagingData</a></li><li data-type='method'><a href="api.course.analytics.html#getStudentParticipationData">getStudentParticipationData</a></li><li data-type='method'><a href="api.course.analytics.html#getStudentSummary">getStudentSummary</a></li><li data-type='method'><a href="api.course.analytics.html#listAssignmentSummaries">listAssignmentSummaries</a></li><li data-type='method'><a href="api.course.analytics.html#listDailyActivitySummaries">listDailyActivitySummaries</a></li><li data-type='method'><a href="api.course.analytics.html#listStudentSummaries">listStudentSummaries</a></li></ul></li><li><a href="api.course.announcement.html">api.course.announcement</a><ul class='methods'><li data-type='method'><a href="api.course.announcement.html#create">create</a></li><li data-type='method'><a href="api.course.announcement.html#list">list</a></li></ul></li><li><a href="api.course.app.html">api.course.app</a><ul class='methods'><li data-type='method'><a href="api.course.app.html#add">add</a></li><li data-type='method'><a href="api.course.app.html#get">get</a></li><li data-type='method'><a href="api.course.app.html#getAssignmentLaunchURL">getAssignmentLaunchURL</a></li><li data-type='method'><a href="api.course.app.html#getMetadata">getMetadata</a></li><li data-type='method'><a href="api.course.app.html#getNavLaunchURL">getNavLaunchURL</a></li><li data-type='method'><a href="api.course.app.html#list">list</a></li><li data-type='method'><a href="api.course.app.html#moveToTopOfNavMenu">moveToTopOfNavMenu</a></li><li data-type='method'><a href="api.course.app.html#remove">remove</a></li><li data-type='method'><a href="api.course.app.html#updateMetadata">updateMetadata</a></li></ul></li><li><a href="api.course.assignment.html">api.course.assignment</a><ul class='methods'><li data-type='method'><a href="api.course.assignment.html#create">create</a></li><li data-type='method'><a href="api.course.assignment.html#createFileSubmission">createFileSubmission</a></li><li data-type='method'><a href="api.course.assignment.html#createOverride">createOverride</a></li><li data-type='method'><a href="api.course.assignment.html#createSubmissionComment">createSubmissionComment</a></li><li data-type='method'><a href="api.course.assignment.html#createTextSubmission">createTextSubmission</a></li><li data-type='method'><a href="api.course.assignment.html#createURLSubmission">createURLSubmission</a></li><li data-type='method'><a href="api.course.assignment.html#delete">delete</a></li><li data-type='method'><a href="api.course.assignment.html#deleteOverride">deleteOverride</a></li><li data-type='method'><a href="api.course.assignment.html#get">get</a></li><li data-type='method'><a href="api.course.assignment.html#getOverride">getOverride</a></li><li data-type='method'><a href="api.course.assignment.html#getSubmission">getSubmission</a></li><li data-type='method'><a href="api.course.assignment.html#list">list</a></li><li data-type='method'><a href="api.course.assignment.html#listAllSubmissions">listAllSubmissions</a></li><li data-type='method'><a href="api.course.assignment.html#listGradeableStudents">listGradeableStudents</a></li><li data-type='method'><a href="api.course.assignment.html#listOverrides">listOverrides</a></li><li data-type='method'><a href="api.course.assignment.html#listSubmissions">listSubmissions</a></li><li data-type='method'><a href="api.course.assignment.html#update">update</a></li><li data-type='method'><a href="api.course.assignment.html#updateGrade">updateGrade</a></li><li data-type='method'><a href="api.course.assignment.html#updateGrades">updateGrades</a></li><li data-type='method'><a href="api.course.assignment.html#updateOverride">updateOverride</a></li></ul></li><li><a href="api.course.assignmentGroup.html">api.course.assignmentGroup</a><ul class='methods'><li data-type='method'><a href="api.course.assignmentGroup.html#create">create</a></li><li data-type='method'><a href="api.course.assignmentGroup.html#delete">delete</a></li><li data-type='method'><a href="api.course.assignmentGroup.html#get">get</a></li><li data-type='method'><a href="api.course.assignmentGroup.html#list">list</a></li><li data-type='method'><a href="api.course.assignmentGroup.html#update">update</a></li></ul></li><li><a href="api.course.discussionTopic.html">api.course.discussionTopic</a><ul class='methods'><li data-type='method'><a href="api.course.discussionTopic.html#create">create</a></li><li data-type='method'><a href="api.course.discussionTopic.html#delete">delete</a></li><li data-type='method'><a href="api.course.discussionTopic.html#list">list</a></li><li data-type='method'><a href="api.course.discussionTopic.html#listEntries">listEntries</a></li></ul></li><li><a href="api.course.gradebookColumn.html">api.course.gradebookColumn</a><ul class='methods'><li data-type='method'><a href="api.course.gradebookColumn.html#create">create</a></li><li data-type='method'><a href="api.course.gradebookColumn.html#delete">delete</a></li><li data-type='method'><a href="api.course.gradebookColumn.html#get">get</a></li><li data-type='method'><a href="api.course.gradebookColumn.html#list">list</a></li><li data-type='method'><a href="api.course.gradebookColumn.html#listEntries">listEntries</a></li><li data-type='method'><a href="api.course.gradebookColumn.html#update">update</a></li><li data-type='method'><a href="api.course.gradebookColumn.html#updateEntries">updateEntries</a></li><li data-type='method'><a href="api.course.gradebookColumn.html#updateEntry">updateEntry</a></li></ul></li><li><a href="api.course.group.html">api.course.group</a><ul class='methods'><li data-type='method'><a href="api.course.group.html#get">get</a></li><li data-type='method'><a href="api.course.group.html#listMembers">listMembers</a></li><li data-type='method'><a href="api.course.group.html#updateMembers">updateMembers</a></li></ul></li><li><a href="api.course.groupSet.html">api.course.groupSet</a><ul class='methods'><li data-type='method'><a href="api.course.groupSet.html#create">create</a></li><li data-type='method'><a href="api.course.groupSet.html#createGroup">createGroup</a></li><li data-type='method'><a href="api.course.groupSet.html#delete">delete</a></li><li data-type='method'><a href="api.course.groupSet.html#deleteGroup">deleteGroup</a></li><li data-type='method'><a href="api.course.groupSet.html#get">get</a></li><li data-type='method'><a href="api.course.groupSet.html#getGroup">getGroup</a></li><li data-type='method'><a href="api.course.groupSet.html#list">list</a></li><li data-type='method'><a href="api.course.groupSet.html#listGroups">listGroups</a></li></ul></li><li><a href="api.course.navMenu.html">api.course.navMenu</a></li><li><a href="api.course.page.html">api.course.page</a><ul class='methods'><li data-type='method'><a href="api.course.page.html#create">create</a></li><li data-type='method'><a href="api.course.page.html#delete">delete</a></li><li data-type='method'><a href="api.course.page.html#get">get</a></li><li data-type='method'><a href="api.course.page.html#list">list</a></li><li data-type='method'><a href="api.course.page.html#update">update</a></li></ul></li><li><a href="api.course.quiz.html">api.course.quiz</a><ul class='methods'><li data-type='method'><a href="api.course.quiz.html#create">create</a></li><li data-type='method'><a href="api.course.quiz.html#createEssayQuestion">createEssayQuestion</a></li><li data-type='method'><a href="api.course.quiz.html#createMultipleChoiceQuestion">createMultipleChoiceQuestion</a></li><li data-type='method'><a href="api.course.quiz.html#createShortAnswerQuestion">createShortAnswerQuestion</a></li><li data-type='method'><a href="api.course.quiz.html#createSubmission">createSubmission</a></li><li data-type='method'><a href="api.course.quiz.html#delete">delete</a></li><li data-type='method'><a href="api.course.quiz.html#get">get</a></li><li data-type='method'><a href="api.course.quiz.html#getSubmission">getSubmission</a></li><li data-type='method'><a href="api.course.quiz.html#list">list</a></li><li data-type='method'><a href="api.course.quiz.html#listQuestionGrades">listQuestionGrades</a></li><li data-type='method'><a href="api.course.quiz.html#listQuestions">listQuestions</a></li><li data-type='method'><a href="api.course.quiz.html#listSubmissions">listSubmissions</a></li><li data-type='method'><a href="api.course.quiz.html#update">update</a></li><li data-type='method'><a href="api.course.quiz.html#updateQuestionGrades">updateQuestionGrades</a></li></ul></li><li><a href="api.course.rubric.html">api.course.rubric</a><ul class='methods'><li data-type='method'><a href="api.course.rubric.html#createFreeFormGradingRubricInAssignment">createFreeFormGradingRubricInAssignment</a></li><li data-type='method'><a href="api.course.rubric.html#get">get</a></li><li data-type='method'><a href="api.course.rubric.html#list">list</a></li></ul></li><li><a href="api.course.section.html">api.course.section</a><ul class='methods'><li data-type='method'><a href="api.course.section.html#get">get</a></li><li data-type='method'><a href="api.course.section.html#list">list</a></li></ul></li><li><a href="api.graphQL.html">api.graphQL</a><ul class='methods'><li data-type='method'><a href="api.graphQL.html#sendQuery">sendQuery</a></li></ul></li><li><a href="api.other.html">api.other</a><ul class='methods'><li data-type='method'><a href="api.other.html#endpoint">endpoint</a></li></ul></li><li><a href="api.user.html">api.user</a><ul class='methods'><li data-type='method'><a href="api.user.html#listCourses">listCourses</a></li><li data-type='method'><a href="api.user.html#listEmails">listEmails</a></li><li data-type='method'><a href="api.user.html#search">search</a></li></ul></li><li><a href="api.user.self.html">api.user.self</a><ul class='methods'><li data-type='method'><a href="api.user.self.html#getProfile">getProfile</a></li><li data-type='method'><a href="api.user.self.html#listCourses">listCourses</a></li></ul></li></ul>
</nav>

<div id="main">
    
    



    


    <section class="package">
        <h3> </h3>		
    </section>









    



    <section class="readme usertext">
        <article><h1>The Canvas API, but simpler and more powerful</h1>
<p>This project is designed <em>by</em> educators <em>for</em> educators. Each endpoint is a black box that just works. For instance, <em>createFileSubmission()</em> uploads the file, activates it, creates a new submission, and attaches the file to it. Instead of doing that 4-step process to submit a file, you just use our endpoint function.</p>
<h1 style="display: flex; align-items: center;">
  <div style="flex-grow: 1; height: 1px; background: #ccc; margin-right: 10px;">
  </div>
  <div>
    Quickstart
  </div>
  <div style="flex-grow: 1; height: 1px; background: #ccc; margin-left: 10px;">
  </div>
</h1>
<h2>1. Find the <code>api</code> instance</h2>
<p>In your CACCL project, you should already have an instance. Read through the <a href="http://bit.ly/caccl">CACCL docs</a> to figure out where to find it.</p>
<h2>2. Call an endpoint function</h2>
<p>All endpoint functions are asynchronous, so we recommend using async/await syntax:</p>
<pre class="prettyprint source lang-js"><code>const submissions = await api.course.assignment.listSubmissions({
  courseId: 51048,
  assignmentId: 12589,
});
</code></pre>
<h1 style="display: flex; align-items: center;">
  <div style="flex-grow: 1; height: 1px; background: #ccc; margin-right: 10px;">
  </div>
  <div>
    Global Arguments
  </div>
  <div style="flex-grow: 1; height: 1px; background: #ccc; margin-left: 10px;">
  </div>
</h1>
<p>Every endpoint function has these arguments in addition to the ones listed in their docs:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Argument</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
<th style="text-align:left">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">dontCache</td>
<td style="text-align:left">boolean</td>
<td style="text-align:left">if true, the returned value will not be cached if a cache is in use</td>
<td style="text-align:left">false</td>
</tr>
<tr>
<td style="text-align:left">ignoreCache</td>
<td style="text-align:left">boolean</td>
<td style="text-align:left">if true, even if there is a cached value available, we request new data from Canvas</td>
<td style="text-align:left">false</td>
</tr>
<tr>
<td style="text-align:left">onNewPage</td>
<td style="text-align:left">function</td>
<td style="text-align:left">this function is called when each page is received from Canvas</td>
<td style="text-align:left">null</td>
</tr>
<tr>
<td style="text-align:left">startPage</td>
<td style="text-align:left">number</td>
<td style="text-align:left">number of the first page to fetch</td>
<td style="text-align:left">1</td>
</tr>
<tr>
<td style="text-align:left">maxPages</td>
<td style="text-align:left">number</td>
<td style="text-align:left">maximum number of pages to fetch</td>
<td style="text-align:left">all pages</td>
</tr>
<tr>
<td style="text-align:left">itemsPerPage</td>
<td style="text-align:left">number</td>
<td style="text-align:left">number of items to request in each page</td>
<td style="text-align:left">100</td>
</tr>
<tr>
<td style="text-align:left">numRetries</td>
<td style="text-align:left">number</td>
<td style="text-align:left">number of times to retry failed network requests</td>
<td style="text-align:left">3</td>
</tr>
<tr>
<td style="text-align:left">canvasHost</td>
<td style="text-align:left">string</td>
<td style="text-align:left">hostname for Canvas</td>
<td style="text-align:left">auto-determined default value</td>
</tr>
<tr>
<td style="text-align:left">accessToken</td>
<td style="text-align:left">string</td>
<td style="text-align:left">access token to use for authentication</td>
<td style="text-align:left">current user's token</td>
</tr>
</tbody>
</table>
<h1 style="display: flex; align-items: center;">
  <div style="flex-grow: 1; height: 1px; background: #ccc; margin-right: 10px;">
  </div>
  <div>
    Tips and Tricks
  </div>
  <div style="flex-grow: 1; height: 1px; background: #ccc; margin-left: 10px;">
  </div>
</h1>
<p><strong>Just download a preview if that's all you need:</strong></p>
<p>Do you only need the first few items in a giant list? Maybe, you just need to give the user a preview. Set <code>maxPages</code> to <code>1</code> and you'll only get the first batch of data.</p>
<pre class="prettyprint source lang-js"><code>const firstFewCourses = await api.account.listCourses({
  accountId: 29,
  maxPages: 1,
});
</code></pre>
<p><strong>For giant requests, process data as it arrives:</strong></p>
<p>Instead of waiting until the endpoint function returns with all the pages of data, process it page by page using <code>onNewPage</code>.</p>
<pre class="prettyprint source lang-js"><code>const allCourses = await api.account.listCourses({
  accountId: 29,
  onNewPage: (batchOfCourses) => {
    // Increment the number of courses that have been downloaded
    this.incrementNumberOfCourses(batchOfCourses.length);

    // Add the new batch of courses to the table shown to the user
    this.addCoursesToTable(batchOfCourses);
  },
});
</code></pre>
<p><strong>Hit <em>any</em> endpoint, even ones that aren't listed in our docs:</strong></p>
<p>Use <code>api.other.endpoint()</code> to hit any endpoint in Canvas.</p>
<p>Caveat: all cached values will be deleted. Our cache is intelligently managed (create an assignment, list of assignments is uncached). Since we don't know how your other endpoint will affect cached data, we have to uncache everything.</p>
<p>Also, consider contributing to this open-source project! Let's the endpoint to the list.</p>
<p><strong>Think data has changed? Ignore the cache just this once:</strong></p>
<p>If you think the data in Canvas changed but you don't want to turn of caching altogether, you can ignore the cache for a single request using <code>ignoreCache</code>:</p>
<pre class="prettyprint source lang-js"><code>// Run this code every minute to update the assignment list
// (maybe the user created another assignment)
const assignments = await api.course.assignment.list({
  courseId: 48925,
  ignoreCache: true,
});
</code></pre>
<h1 style="display: flex; align-items: center;">
  <div style="flex-grow: 1; height: 1px; background: #ccc; margin-right: 10px;">
  </div>
  <div>
    Advanced Stuff
  </div>
  <div style="flex-grow: 1; height: 1px; background: #ccc; margin-left: 10px;">
  </div>
</h1>
<h2>How to create an <code>api</code> instance manually:</h2>
<p><strong>1. Initialize caccl-api:</strong></p>
<pre class="prettyprint source lang-js"><code>const API = require('caccl-api');

const api = new API({
  canvasHost: 'canvas.myschool.edu',
  accessToken: '5368~059382...3e57293hga3',
});
</code></pre>
<p><strong>2. Further configure caccl-api:</strong></p>
<p>When initializing <code>caccl-api</code>, you can pass in many different configuration options to customize its behavior or turn on/off certain functionality. In the example above, we only included the <code>canvasHost</code> and <code>accessToken</code> configuration options.</p>
<p><strong>Note:</strong> all configuration options are optional.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Config Option</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
<th style="text-align:left">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">canvasHost</td>
<td style="text-align:left">string</td>
<td style="text-align:left">a default Canvas host to use for requests</td>
<td style="text-align:left">canvas.instructure.com</td>
</tr>
<tr>
<td style="text-align:left">accessToken</td>
<td style="text-align:left">string</td>
<td style="text-align:left">a default access token to apply to all requests. If excluded, every function call must contain an <code>accessToken</code> parameter</td>
<td style="text-align:left">none</td>
</tr>
<tr>
<td style="text-align:left">sendRequest</td>
<td style="text-align:left"><a href="https://github.com/harvard-edtech/caccl-send-request">SendRequest</a></td>
<td style="text-align:left">a function that sends an http request</td>
<td style="text-align:left"><a href="https://github.com/harvard-edtech/caccl-send-request">caccl-send-request</a></td>
</tr>
<tr>
<td style="text-align:left">defaultNumRetries</td>
<td style="text-align:left">number</td>
<td style="text-align:left">the number of times to retry failed requests</td>
<td style="text-align:left">3</td>
</tr>
<tr>
<td style="text-align:left">defaultItemsPerPage</td>
<td style="text-align:left">number</td>
<td style="text-align:left">the number of items to request on a get request</td>
<td style="text-align:left">100</td>
</tr>
<tr>
<td style="text-align:left">cacheType</td>
<td style="text-align:left">string</td>
<td style="text-align:left">if 'memory', cache is stored in memory. If 'session', cache is stored in the express session. To include a custom cache, include it using the &quot;cache&quot; config option</td>
<td style="text-align:left">none</td>
</tr>
<tr>
<td style="text-align:left">cache</td>
<td style="text-align:left"><a href="https://github.com/harvard-edtech/caccl-api/blob/master/contributor-docs/Cache.md">Cache</a></td>
<td style="text-align:left">a custom cache instance (Not required if using 'memory' or 'session' cacheType: those caches are built-in)</td>
<td style="text-align:left">none</td>
</tr>
</tbody>
</table></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
We use <a href="https://github.com/jsdoc3/jsdoc">JSDoc</a> and the <a href="https://github.com/clenemt/docdash">docdash</a> theme to generate our docs.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>